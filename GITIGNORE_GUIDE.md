# .gitignore Guide

This guide explains what each section of the `.gitignore` file does and why it's important.

## ðŸ“š What is .gitignore?

The `.gitignore` file tells Git which files and folders to **not** track. This is important because:
- ðŸš« **Keeps repo clean**: No unnecessary files in version control
- ðŸ”’ **Security**: Prevents accidentally committing secrets (API keys, passwords)
- âš¡ **Performance**: Faster git operations (no large node_modules)
- ðŸ¤ **Collaboration**: Everyone ignores the same files

## ðŸ“‹ Section-by-Section Breakdown

### 1. Dependencies
```gitignore
/node_modules
/.pnp
.pnp.js
```
**Why?** These are installed packages (30,000+ files!). Everyone installs them with `npm install`.
**Result:** Repo is ~500KB instead of ~200MB! ðŸŽ‰

### 2. Testing
```gitignore
/coverage
*.coverage
.nyc_output
```
**Why?** Test coverage reports are generated locally. No need to commit them.
**When to commit:** Never. They're regenerated each test run.

### 3. Next.js Build Files
```gitignore
/.next/
/out/
```
**Why?** 
- `/.next/`: Development build cache
- `/out/`: Production build output (static files)

**Result:** Git only tracks source code, not compiled code.

### 4. Production Builds
```gitignore
/build
/dist
```
**Why?** Built files are generated from source. Source is the truth!
**Exception:** Some projects commit build files for CDN hosting.

### 5. Environment Variables
```gitignore
.env
.env.local
.env*.local
```
**Why?** âš ï¸ **SECURITY!** These contain:
- API keys
- Database passwords
- Secret tokens

**Instead:** Share `.env.example` with dummy values:
```bash
# .env.example (commit this)
NEXT_PUBLIC_API_URL=https://api.example.com
DATABASE_URL=postgresql://user:pass@localhost:5432/db

# .env (DON'T commit this - has real values)
NEXT_PUBLIC_API_URL=https://api.production.com
DATABASE_URL=postgresql://realuser:realpass@prod.db:5432/proddb
```

### 6. Debug Logs
```gitignore
npm-debug.log*
yarn-debug.log*
```
**Why?** These are created when `npm install` fails. Only useful locally.

### 7. Operating System Files

#### macOS
```gitignore
.DS_Store
.AppleDouble
```
**What?** macOS creates these in every folder for icons/layout.
**Why ignore?** They're OS-specific and useless to others.

#### Windows
```gitignore
Thumbs.db
Desktop.ini
```
**What?** Windows thumbnail cache and folder settings.
**Why ignore?** Same reason - OS-specific junk.

#### Linux
```gitignore
*~
.directory
```
**What?** Backup files and KDE folder settings.

### 8. Editor & IDE Files

#### VSCode
```gitignore
.vscode/
!.vscode/settings.json
```
**Why?** Personal editor settings shouldn't be forced on everyone.
**Exception:** `!.vscode/settings.json` - team-shared settings CAN be committed.

**Example:**
```bash
# Everyone has their own layout/extensions
.vscode/workspace.json  âŒ Ignored
.vscode/launch.json     âŒ Ignored

# But project-wide settings can be shared
.vscode/settings.json   âœ… Can commit (note the ! in .gitignore)
```

#### JetBrains (WebStorm, IntelliJ)
```gitignore
.idea/
*.iml
```
**Why?** These IDEs create dozens of config files.

#### Vim / Emacs / Sublime
**Why?** Swap files, sessions, backups - all temporary.

### 9. TypeScript
```gitignore
*.tsbuildinfo
```
**What?** TypeScript incremental compilation cache.
**Why ignore?** It's rebuilt each time anyway.

### 10. Deployment & Cloud
```gitignore
.vercel
.netlify
.firebase
```
**What?** Deployment platform configuration and cache.
**Why ignore?** Generated by deployment commands, not source code.

### 11. Package Manager Locks (Optional)
```gitignore
# package-lock.json  (commented out)
# yarn.lock
```
**Debate!** 
- âœ… **Commit them** (recommended): Ensures everyone has exact same versions
- âŒ **Ignore them**: If you want flexibility in versions

**For your blog:** âœ… **Keep committed** (they're not ignored) for reproducibility.

### 12. Content Drafts
```gitignore
*.draft.mdx
*.wip.mdx
drafts/
```
**Purpose:** Keep unfinished blog posts private!

**Usage:**
```bash
# Won't be committed
my-post.draft.mdx
experimental-idea.wip.mdx
drafts/unpublished-paper-review.mdx

# Will be committed
my-post.mdx
```

**Workflow:**
1. Start draft: `my-idea.draft.mdx`
2. Work on it (git ignores it)
3. Ready to publish? Rename: `my-idea.mdx`
4. Commit and push!

### 13. Static Analysis & Linting
```gitignore
.eslintcache
.prettiercache
```
**What?** Cache files that make linting faster.
**Why ignore?** They're machine-specific.

### 14. Cache Files
```gitignore
.cache/
.parcel-cache/
.turbo/
```
**What?** Various build tool caches.
**Why ignore?** Regenerated automatically.

### 15. Misc
```gitignore
*.pem
*.log
*.swp
*.bak
```
**What?** 
- `.pem`: SSL certificates (sensitive!)
- `.log`: Log files
- `.swp`: Vim swap files
- `.bak`: Backup files

### 16. Personal Notes (Optional)
```gitignore
# NOTES.md  (commented out)
# TODO.md
```
**Purpose:** Keep personal TODO lists private.
**Usage:** Uncomment if you want to keep notes locally without committing them.

## ðŸŽ¯ Quick Reference

### Always Ignore
- âŒ `node_modules/` - Too large
- âŒ `.env` - Secrets!
- âŒ Build outputs (`/out/`, `/.next/`)
- âŒ OS files (`.DS_Store`, `Thumbs.db`)

### Always Commit
- âœ… Source code (`src/`)
- âœ… Config files (`package.json`, `tsconfig.json`)
- âœ… Content files (`src/content/**/*.mdx`)
- âœ… Public assets (`public/`)

### Maybe Commit (Your choice)
- ðŸ¤” Lock files (`package-lock.json`) - **Recommended: âœ… Commit**
- ðŸ¤” Editor settings (`.vscode/settings.json`) - If team agrees
- ðŸ¤” `.env.example` - âœ… Yes, as a template

## ðŸ“ Your Blog Workflow

### Writing a Draft Post
```bash
# Create draft (won't be committed)
touch src/content/blog/my-secret-idea.draft.mdx

# Work on it...
# Git status shows nothing!

# Ready to publish?
mv src/content/blog/my-secret-idea.draft.mdx src/content/blog/my-secret-idea.mdx

# Now commit
git add src/content/blog/my-secret-idea.mdx
git commit -m "Published: My Secret Idea"
```

### Checking What's Ignored
```bash
# See all files (including ignored)
git status --ignored

# Check if specific file is ignored
git check-ignore -v src/content/blog/draft.mdx
```

### Force Add Ignored File (Rarely needed)
```bash
# If you REALLY need to commit an ignored file
git add -f path/to/file
```

## ðŸ” Common Issues

### Issue 1: "node_modules/ is tracked!"
**Solution:**
```bash
# If node_modules was already committed
git rm -r --cached node_modules
git commit -m "Remove node_modules from git"
```

### Issue 2: "My .env file was committed!"
**Emergency Fix:**
```bash
# Remove from history (if just committed)
git rm --cached .env
git commit -m "Remove .env file"

# âš ï¸ Change all secrets immediately!
# The file is still in git history
```

### Issue 3: "I want to ignore a file retroactively"
```bash
# Add to .gitignore
echo "unwanted-file.txt" >> .gitignore

# Remove from git (but keep local copy)
git rm --cached unwanted-file.txt

# Commit
git add .gitignore
git commit -m "Stop tracking unwanted-file.txt"
```

## ðŸŽ“ Best Practices

### 1. Use Comments
```gitignore
# This is why we ignore this
some-file.txt
```

### 2. Be Specific
```gitignore
# âŒ Too broad (ignores all .log files everywhere)
*.log

# âœ… Better (only in root)
/*.log

# âœ… Even better (only npm logs)
npm-debug.log*
```

### 3. Patterns

**Wildcards:**
```gitignore
*.log        # All .log files
*.log.*      # All .log.1, .log.2, etc.
**/*.log     # All .log files in any subdirectory
```

**Directories:**
```gitignore
node_modules/   # Directory (trailing slash)
node_modules    # Also works
/node_modules   # Only in root
**/node_modules # In any subdirectory
```

**Negation (Don't ignore):**
```gitignore
*.log           # Ignore all .log files
!important.log  # But keep this one!
```

### 4. Global .gitignore
```bash
# Create global gitignore (for all your projects)
git config --global core.excludesfile ~/.gitignore_global

# Add OS-specific stuff there
echo ".DS_Store" >> ~/.gitignore_global
echo "Thumbs.db" >> ~/.gitignore_global
```

## ðŸ“š Further Reading

- [GitHub's .gitignore templates](https://github.com/github/gitignore)
- [Git documentation](https://git-scm.com/docs/gitignore)
- [Toptal .gitignore generator](https://www.toptal.com/developers/gitignore)

## ðŸŽ¯ Summary

Your `.gitignore` now:
- âœ… Prevents committing 200MB+ of node_modules
- âœ… Keeps secrets safe (.env files)
- âœ… Ignores OS junk (.DS_Store, Thumbs.db)
- âœ… Ignores editor config (.vscode/, .idea/)
- âœ… Allows draft blog posts (*.draft.mdx)
- âœ… Keeps repo clean and focused on source code

**Your repo will be ~1MB instead of ~200MB!** ðŸš€

---

**Questions about .gitignore?** Check what's ignored with `git status --ignored`!

